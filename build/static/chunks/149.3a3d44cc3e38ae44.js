"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[149],{5870:function(e,t,n){n.d(t,{Z:function(){return T}});var i=n(3950),a=n(2988),o=n(2265),c=n(4839),r=n(6259),l=n(317),s=n(8024),d=n(1738),u=n(8510),p=n(1175),m=n(6894),h=n(8632),v=n(909),b=n(4535);let f=(0,b.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),x=(0,b.Z)("MuiListItemIcon",["root","alignItemsFlexStart"]),g=(0,b.Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);var k=n(4541);function Z(e){return(0,k.ZP)("MuiMenuItem",e)}let j=(0,b.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var y=n(7437);let C=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],I=e=>{let{disabled:t,dense:n,divider:i,disableGutters:o,selected:c,classes:l}=e,s=(0,r.Z)({root:["root",n&&"dense",t&&"disabled",!o&&"gutters",i&&"divider",c&&"selected"]},Z,l);return(0,a.Z)({},l,s)},N=(0,s.ZP)(m.Z,{shouldForwardProp:e=>(0,d.Z)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})(e=>{let{theme:t,ownerState:n}=e;return(0,a.Z)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(j.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,l.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(j.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,l.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(j.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,l.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,l.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(j.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(j.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(f.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(f.inset)]:{marginLeft:52},["& .".concat(g.root)]:{marginTop:0,marginBottom:0},["& .".concat(g.inset)]:{paddingLeft:36},["& .".concat(x.root)]:{minWidth:36}},!n.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},n.dense&&(0,a.Z)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{["& .".concat(x.root," svg")]:{fontSize:"1.25rem"}}))});var T=o.forwardRef(function(e,t){let n;let r=(0,u.Z)({props:e,name:"MuiMenuItem"}),{autoFocus:l=!1,component:s="li",dense:d=!1,divider:m=!1,disableGutters:b=!1,focusVisibleClassName:f,role:x="menuitem",tabIndex:g,className:k}=r,Z=(0,i.Z)(r,C),j=o.useContext(p.Z),T=o.useMemo(()=>({dense:d||j.dense||!1,disableGutters:b}),[j.dense,d,b]),w=o.useRef(null);(0,h.Z)(()=>{l&&w.current&&w.current.focus()},[l]);let O=(0,a.Z)({},r,{dense:T.dense,divider:m,disableGutters:b}),E=I(r),B=(0,v.Z)(w,t);return r.disabled||(n=void 0!==g?g:-1),(0,y.jsx)(p.Z.Provider,{value:T,children:(0,y.jsx)(N,(0,a.Z)({ref:B,role:x,tabIndex:n,component:s,focusVisibleClassName:(0,c.Z)(E.focusVisible,f),className:(0,c.Z)(E.root,k)},Z,{ownerState:O,classes:E}))})})},5643:function(e,t,n){var i=n(8472);let a="https://e4y9nqukg6.execute-api.us-west-2.amazonaws.com/prd";t.Z={getTicketInfo:(e,t)=>{let n="".concat(a,"/rifa/tickets?rifa_id=").concat(e,"&number=").concat(t);return i.Z.get(n)},setTicketInfo:e=>i.Z.post("".concat(a,"/rifa/tickets"),e)}},7794:function(e,t,n){n.d(t,{I:function(){return l},vd:function(){return s},xN:function(){return d}});var i=n(7437),a=n(2265),o=n(151),c=n.n(o),r=n(3742);let l="TYPE_SELECTABLE",s="TYPE_SELECTED",d="TYPE_EMPTY",u=(e,t)=>e.find(e=>e.number===t),p=(e,t,n)=>{let i="".concat(e).length-"".concat(t).length,a="";for(let e=0;e<i;e++)a="".concat(a).concat(null!=n?n:0);return a},m=(0,a.memo)(e=>{let{selectableType:t,ticketNumber:n,selectedTickets:o,notAvailableTicketsNumbers:m,selectTicket:h,isLukyNumbers:v,canBeDeleted:b,maxTickets:f}=e,[x,g]=(0,a.useState)(!1);switch((0,a.useEffect)(()=>{v?setTimeout(()=>{g(!0)},100*Math.random()):g(!1)},[v]),t){case l:return(0,i.jsx)(r.Z,{className:"".concat(c().chipTicket," ").concat(m.includes(n)?x?c().blinkChipDisabled:c().chipDisabled:u(o,n)?x?c().blinkChipSelected:c().chipSelected:x?c().blinkChipEnabled:c().chipEnabled),label:(0,i.jsxs)("strong",{children:[p(f,n),n]}),onClick:m.includes(n)?null:()=>h(n)});case s:return(0,i.jsx)(r.Z,{className:"".concat(c().chipTicket," ").concat(c().chipSelected),label:(0,i.jsxs)("strong",{children:[p(f,n),n]}),onDelete:!1!==b?()=>h(n):null});case d:return(0,i.jsx)(r.Z,{className:"".concat(c().chipTicket," ").concat(c().chipEmpty),label:(0,i.jsx)("strong",{children:p(f,"","_ ")})})}},(e,t)=>{let n=e.ticketNumber,i=e.selectedTickets,a=e.notAvailableTicketsNumbers,o=e.selectableType,c=e.isLukyNumbers,r=t.ticketNumber,s=t.selectedTickets,d=t.notAvailableTicketsNumbers,p=t.selectableType,m=t.isLukyNumbers,h=o===p;return(h=h&&c===m)&&o===l&&(h=(h=h&&a.includes(n)===d.includes(r))&&u(i,n)===u(s,r)),h=h&&n===r});m.displayName="ChipTicket",t.ZP=m},3149:function(e,t,n){n.r(t),n.d(t,{default:function(){return F}});var i=n(7437),a=n(2265),o=n(151),c=n.n(o),r=n(3100),l=n(3037),s=n(6097),d=n(8165),u=n(6548),p=n(1096),m=n(2988),h=n(3950),v=n(4839),b=n(6259),f=n(511),x=n(8024),g=n(8510),k=n(3849),Z=n(1348);let j=["className","id"],y=e=>{let{classes:t}=e;return(0,b.Z)({root:["root"]},k.a,t)},C=(0,x.ZP)(f.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),I=a.forwardRef(function(e,t){let n=(0,g.Z)({props:e,name:"MuiDialogTitle"}),{className:o,id:c}=n,r=(0,h.Z)(n,j),l=y(n),{titleId:s=c}=a.useContext(Z.Z);return(0,i.jsx)(C,(0,m.Z)({component:"h2",className:(0,v.Z)(l.root,o),ownerState:n,ref:t,variant:"h6",id:null!=c?c:s},r))});var N=n(385),T=n(5706),w=n(5870),O=n(8784),E=n(6920),B=n(5079),P=n(6179),_=n(5643),M=n(7794);let S="PENDING",L="NOTAVAILABLE",A="AVAILABLE",D=a.forwardRef(function(e,t){return(0,i.jsx)(r.Z,{direction:"up",ref:t,...e,timeout:500})});var F=e=>{var t,n,o,r,m,h,v;let{params:b,maxTickets:f}=e,{rifa_id:x}=b,[g,k]=(0,a.useState)(""),[Z,j]=(0,a.useState)(!1),[y,C]=(0,a.useState)({isOpen:!1,allTickets:[]}),[F,V]=(0,a.useState)({isOpen:!1,ticketInfo:null}),R=e=>{e||(e=g),j(!0),_.Z.getTicketInfo(x,e).then(e=>{e.data.length>1?C({isOpen:!0,allTickets:e.data}):1===e.data.length&&V({isOpen:!0,ticketInfo:e.data[0]})}).catch(e=>{console.error("error: ",e),V({isOpen:!1,ticketInfo:null,notFound:!0})}).finally(()=>{j(!1)})},q=e=>{var t;C(e=>({...e,isOpen:!1}));let n=(null!==(t=y.allTickets)&&void 0!==t?t:[]).find(t=>"".concat(t.ticket_number)==="".concat(e));V({isOpen:!!n,ticketInfo:n,notFound:!n})},G=e=>{e(e=>({...e,isOpen:!1}))};return(0,i.jsxs)("div",{id:"tickets",className:"".concat(c().card," card mt-4 mb-5"),children:[(0,i.jsx)("h1",{className:"".concat(c().title),children:"Verificador de boletos"}),(0,i.jsxs)(l.ZP,{container:!0,className:c().verificadorInputContainer,children:[(0,i.jsx)(l.ZP,{item:!0,xs:12,children:(0,i.jsx)(s.Z,{className:c().searcherInput,id:"outlined-basic",label:"N\xfamero de boleto",variant:"outlined",onChange:e=>k(e.target.value),value:g,InputProps:{startAdornment:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(E.G,{icon:B.wn1,width:25,height:25}),"\xa0"]}),endAdornment:Z?(0,i.jsx)("span",{className:"searchLoader",children:(0,i.jsx)(P.w,{})}):null}})}),F&&(null==F?void 0:F.notFound)&&(0,i.jsx)(l.ZP,{item:!0,xs:12,children:(0,i.jsx)(d.Z,{severity:"success",children:"N\xfamero de boleto disponible"})}),(0,i.jsx)(l.ZP,{item:!0,xs:12,className:"mt-2",children:(0,i.jsx)(u.Z,{className:"".concat(c().counterButton," ").concat(c().regularButton," w-100"),variant:"contained",onClick:()=>R(),disabled:""===g,children:"Buscar boleto"})})]}),(0,i.jsxs)(p.Z,{open:y.isOpen&&!Z,TransitionComponent:D,keepMounted:!0,onClose:()=>G(C),"aria-describedby":"alert-dialog-slide-description",children:[(0,i.jsx)(I,{children:"Selecciona uno de los n\xfameros encontrados"}),(0,i.jsx)(N.Z,{children:(0,i.jsx)(T.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:"",label:"",onChange:e=>q(e.target.value),className:"w-100",children:(null!==(v=y.allTickets)&&void 0!==v?v:[]).map(e=>(0,i.jsx)(w.Z,{value:e.ticket_number,children:e.ticket_number},"menuItem-".concat(e.ticket_number)))})}),(0,i.jsx)(O.Z,{children:(0,i.jsx)(u.Z,{className:"".concat(c().counterButton," ").concat(c().regularButton," w-100"),onClick:()=>G(C),children:"Cerrar"})})]}),(0,i.jsxs)(p.Z,{open:F.isOpen&&!Z,TransitionComponent:D,keepMounted:!0,onClose:()=>G(V),"aria-describedby":"alert-dialog-slide-description",children:[(0,i.jsx)(I,{className:"text-center",children:(null==F?void 0:null===(t=F.ticketInfo)||void 0===t?void 0:t.ticket_number)&&(0,i.jsx)(M.ZP,{selectableType:M.vd,ticketNumber:null==F?void 0:null===(n=F.ticketInfo)||void 0===n?void 0:n.ticket_number,canBeDeleted:!1,maxTickets:f})}),(0,i.jsx)(N.Z,{style:{minWidth:"300px"},children:(0,i.jsx)(l.ZP,{container:!0,children:(0,i.jsxs)(l.ZP,{item:!0,xs:12,children:[(0,i.jsx)(d.Z,{severity:(()=>{var e,t;if(!(null===(e=F.ticketInfo)||void 0===e?void 0:e.status))return"";switch(null===(t=F.ticketInfo)||void 0===t?void 0:t.status){case S:return"warning";case L:return"error";case A:return"success";default:return""}})(),children:(()=>{var e,t;if(!(null===(e=F.ticketInfo)||void 0===e?void 0:e.status))return"";switch(null===(t=F.ticketInfo)||void 0===t?void 0:t.status){case S:return"Boleto pendiente de pago o verificacion";case L:return"Boleto no disponible";case A:return"Boleto disponible";default:return""}})()}),(0,i.jsx)("hr",{}),(0,i.jsxs)("h6",{children:[(0,i.jsx)("strong",{children:"Estado:"})," \xa0",null==F?void 0:null===(o=F.ticketInfo)||void 0===o?void 0:o.client_state]}),(0,i.jsxs)("h6",{children:[(0,i.jsx)("strong",{children:"Nombre:"})," \xa0",null==F?void 0:null===(r=F.ticketInfo)||void 0===r?void 0:r.client_name]}),(0,i.jsxs)("h6",{children:[(0,i.jsx)("strong",{children:"Telefono:"}),"\xa0",null==F?void 0:null===(m=F.ticketInfo)||void 0===m?void 0:m.client_lada,"\xa0",null==F?void 0:null===(h=F.ticketInfo)||void 0===h?void 0:h.client_phone]})]})})}),(0,i.jsx)(O.Z,{children:(0,i.jsx)(u.Z,{className:"".concat(c().counterButton," ").concat(c().regularButton," w-100"),onClick:()=>G(V),children:"Cerrar"})})]})]})}}}]);